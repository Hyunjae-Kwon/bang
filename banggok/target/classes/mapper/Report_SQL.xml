<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="report">
	
	<!-- [reportBoardWrite] 게시글 신고 하기 기능 -->
	<insert id="reportBoardWrite" parameterType="hashmap">
	<![CDATA[
		INSERT INTO REPORT (RP_NUM, RP_RID, RP_BTYPE, RP_RNUM, RP_TITLE, RP_CONTENT, RP_REGDATE, RP_ID, RP_TYPE, RP_DELETE)
		VALUES (RP_NUM_SEQ.NEXTVAL, #{RP_RID}, #{RP_BTYPE}, #{RP_RNUM}, #{RP_TITLE}, #{RP_CONTENT}, SYSDATE, #{RP_ID}, 'B', 'N')
	]]>
	</insert>
	
	<!-- [reportComWrite] 게시글 댓글 신고 하기 기능 -->
	<insert id="reportComWrite" parameterType="hashmap">
	<![CDATA[
		INSERT INTO REPORT (RP_NUM, RP_RID, RP_BTYPE, RP_RNUM, RP_TITLE, RP_CONTENT, RP_REGDATE, RP_ID, RP_TYPE, RP_DELETE)
		VALUES (RP_NUM_SEQ.NEXTVAL, #{RP_RID}, #{RP_BTYPE}, #{RP_RNUM}, #{RP_TITLE}, #{RP_CONTENT}, SYSDATE, #{RP_ID}, 'C', 'N')
	]]>
	</insert>
	
	<!-- [reportDelBrdUpdate] 신고 게시글 삭제 처리 -->
	<update id="reportDelBrdUpdate" parameterType="hashmap">
    <![CDATA[
		UPDATE REPORT 
		SET RP_DELETE = 'Y'
		WHERE RP_RNUM = #{RP_RNUM} AND RP_TYPE = 'B'
    ]]>
	</update>
	
	<!-- [reportDelComUpdate] 신고 댓글 삭제 처리 -->
	<update id="reportDelComUpdate" parameterType="hashmap">
    <![CDATA[
		UPDATE REPORT 
		SET RP_DELETE = 'Y'
		WHERE RP_RNUM = #{RP_RNUM} AND RP_TYPE = 'C'
    ]]>
	</update>

</mapper>